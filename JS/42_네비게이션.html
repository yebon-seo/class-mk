<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>네비게이션</title>
  <style>
    #fruits {
      display: flex;
      list-style: none;
      padding: 0;
    }
    #fruits > li {
      width: 100px;
      text-align: center;
      cursor: pointer;
    }
    #fruits > li.active {
      color: rgb(151, 80, 151); text-decoration: underline;
    }
    
  </style>
</head>
<body>
  <nav>
    <ul id="fruits">
      <li class="active">Apple</li>
      <li>Banana</li>
      <li>Orange</li>
    </ul>
  </nav>
  <div>선택된 네비게이션 아이템: <em class="msg">Apple</em></div>

  <script>
    const fruits = document.querySelector("#fruits");
    const msg = document.querySelector(".msg");

    fruits.addEventListener("click",(e) => { //e이벤트 위임 
      //fruits 의 자식요소인li를 새로운 배열로 만들어서 child에 할당
      //HTML컬렉션은 노드리스트가 아니라 새로운 배열로 담아야 함
      const child = [...fruits.children];
      //child배열을 순회하면서 배열요소를 fruits를 참조하여 배열의 갯수만큼 반복실행
      child.forEach(fruit => {
        //해당요소에 active클래스가 있으면 제거 없으면 추가한다.
        fruit.classList.toggle("active",e.target === fruit)
        //클릭한 요소의 텍스트를 msg의 텍스트로 넣어줌
        msg.textContent =e.target.textContent;
        //e.target === fruit : 클릭한 요소와 순회중인 배열요소가 같으면 true,다르면 false
        //toggle()두번째 인자가 true면 add가 적용 되고 ,false면 remove
      })
    })

    //모든 내비게이션 아이템(li)의 부모요소인 fruits요소에 이벤트를 바인딩한다.
    //e.target = 클릭한 대상을 반환 li 
    //e.currentTarget = 이벤트가 발생된 대상을 반환 ul

    
  </script>
</body>
</html>