<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>360vr</title>
</head>

<body>
  <div class="slideList"></div>
  <input type="range" class="slider" max="100" min="0" value="0">

  <script>
    const slideList = document.querySelector(".slideList")
    //이미지 요소를 슬라이드 리스트의 자식요소로 추가
    for (let i = 1; i < 312; i++) {
      const p = document.createElement("p");
      const img = document.createElement("img");
      img.setAttribute("src", `images/test/${i}.jpg`);
      img.setAttribute("alt", `image${i}`)

      p.appendChild(img)
      slideList.appendChild(p)
    }
    const imgList = document.querySelectorAll(".slideList > p ")
    const slider = document.querySelector(".slider")
    //초기이미지 표시
    imgList.forEach((img, idx) => {
      img.style.display = "none"
    })

    //첫번째 이미지만 표시
    imgList[0].style.display = "block";

    //슬라이드 시퀀스의 시작과 끝 인덱스를 설정
    let start = 0;
    const end = imgList.length - 1;
    console.log(end) //119

    slider.addEventListener("input", () => {
      //슬라이더의 현재값 가져오기
      const sliderValue = slider.value;
      // console.log(sliderValue);

      //비례식을 이용하여 이미지 인덱스 계산
      const imgIndex = Math.round((sliderValue / 100) * end)
      //슬라이더갯수를 100으로 나눠서 마지막 값을 넣어주면 1당 배분이 됨
      imgList.forEach((img, idx) => {
        img.style.display = "none"
      })
      imgList[imgIndex].style.display = "block"
    })


  </script>
</body>

</html>